<%= form_for(@user) do |f| %>
  <% if @user.errors.any? %>
    <div id="error_explanation">
      <h4><%= pluralize(@user.errors.count, "error") %> prohibited this user from being saved:</h4>

      <ul>
      <% @user.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <% unless @user.image.nil? %>
    <span>
      <%= image_tag(@user.image, :alt => @user.name, :size => '50x50') %>
      <br/>
      
      <%= link_to 'Change Pic', image_upload_path, :user_id => @user.id %>
      <br/>
    </span>
    <br/>
  <% else %>
    <span>
      <%= image_tag('/images/profiles/BookPhoto.JPG', :alt => @user.name, :size => '50x50') %>
      <br/>

      <%= link_to 'Change Pic', image_upload_path, :user_id => @user.id %>
      <br/>
    </span>
    <br/>
  <% end -%>

  <div>
    <span><%= f.label :name %></span><br/>
    <%= f.text_field :name, :maxlength => 30, :style => 'width:300px;', :class => 'simple' %>
  </div>
  <br/>

  <div>
    <span><%= f.label :email %></span><br/>
    <%= f.text_field :email, :maxlength => 50, :style => 'width:300px;', :class => 'simple' %>
  </div>
  <br/>

  <div>
    <span><%= f.label :password %></span><br/>
    <%= f.password_field :password, :maxlength => 40, :style => 'width:300px;', :class => 'simple' %>
  </div>
  <br/>

  <div>
    <b>Confirm Password</b><br/>
    <%= f.password_field :password_confirmation, :maxlength => 40, :style => 'width:300px;', :class => 'simple' %>
  </div>
  <br/>

  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
